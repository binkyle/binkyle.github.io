import{g as K,u as W,h as X,i as Z,j as ee,t as Ee,k as ae,l as k,m as p,n as e,p as te,q as Ae,s as se,R as w,v as re,x as le,y as oe,z as ie,A as ue,B as L,C as I,D as Be,E as ce,F as ne,G as Ce,L as ve,H as he,I as de,J as me,K as $,M as ge,N as D}from"./app-CUS-QytW.js";const ye=["/","/%E5%85%B3%E4%BA%8E%E6%88%91/intro.html","/%E7%94%9F%E6%B4%BB%E9%9A%8F%E6%83%B3/%E5%BE%B7%E5%8E%9A%E8%B5%A4%E5%AD%90%20%C2%B7%20%E5%96%84%E6%91%84%E7%94%9F%20%C2%B7%20%E7%94%9F%E6%AD%BB%E8%87%AA%E5%9C%A8.html","/%E7%94%9F%E6%B4%BB%E9%9A%8F%E6%83%B3/%E7%82%92%E8%82%A1%E7%9A%84%E6%99%BA%E6%85%A7.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Autosar/AUTOSAR%20Port%20%E7%9A%84%E8%AE%BE%E8%AE%A1%E3%80%81%E8%BF%9E%E6%8E%A5%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E8%B7%B5%E6%80%BB%E7%BB%93.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Autosar/autosar_can_protocol.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Autosar/autosar_solution_summary.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E5%B7%A5%E5%85%B7/vuePressgit.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%AE%97%E6%B3%95/%E4%B8%80%E4%BA%9B%E7%AE%97%E6%B3%95%E6%9D%82%E8%AE%B0.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E6%B7%B1%E5%85%A5%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F_%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Autosar/SOMEIP/IP%20Service%20Discovery%20%E5%8E%9F%E7%90%86%E4%B8%8E%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E5%B7%A5%E5%85%B7/github/githubNote.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/C_C__%E8%AF%AD%E6%B3%95%E6%8A%A5%E9%94%99%E9%9B%86%E5%90%88%E6%B1%87%E6%80%BB.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/c__%E4%B8%A4%E7%A7%8D%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5%E5%8C%BA%E5%88%AB.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/extern_in_c_page1.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/gcc%E7%BC%96%E8%AF%91%E4%BC%98%E5%8C%96%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/sizeof_in_c.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/%E4%B8%BA%E4%BB%80%E4%B9%88%E7%A8%8B%E5%BA%8F%E6%A0%88%E5%9C%B0%E5%9D%80%E6%98%AF%E5%90%91%E4%B8%8B%E5%A2%9E%E9%95%BF%E7%9A%84.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/generate_requirments.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/python_venv.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Autosar/DaVinci%20Configurator%20Classic/Auto-Connect-Port-Prototypes/Auto-Connect_Port_Prototypes.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Autosar/DaVinci%20Configurator%20Classic/userManual/userManual.html","/404.html","/%E5%85%B3%E4%BA%8E%E6%88%91/","/%E7%94%9F%E6%B4%BB%E9%9A%8F%E6%83%B3/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Autosar/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E5%B7%A5%E5%85%B7/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%AE%97%E6%B3%95/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Autosar/SOMEIP/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E5%B7%A5%E5%85%B7/github/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Autosar/DaVinci%20Configurator%20Classic/Auto-Connect-Port-Prototypes/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Autosar/DaVinci%20Configurator%20Classic/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Autosar/DaVinci%20Configurator%20Classic/userManual/","/category/","/category/%E9%81%93%E5%BE%B7%E7%BB%8F/","/category/%E9%81%93%E5%AE%B6%E5%93%B2%E5%AD%A6/","/category/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","/category/autosar/","/category/%E7%AE%97%E6%B3%95/","/category/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/","/category/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/","/category/%E7%BC%96%E8%AF%91%E5%99%A8/","/category/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/","/category/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/","/category/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/","/tag/","/tag/%E6%97%A0%E4%B8%BA%E8%80%8C%E6%B2%BB/","/tag/%E5%BD%A2%E8%80%8C%E4%B8%8A%E5%AD%A6/","/tag/%E9%81%93%E5%AE%B6%E6%99%BA%E6%85%A7/","/tag/%E7%94%9F%E5%91%BD%E5%93%B2%E5%AD%A6/","/tag/%E7%82%92%E8%82%A1%E7%9A%84%E6%99%BA%E6%85%A7/","/tag/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/","/tag/port/","/tag/rte/","/tag/senderreceiver/","/tag/embedded/","/tag/can/","/tag/%E5%8D%8F%E8%AE%AE/","/tag/%E6%A6%82%E8%BF%B0/","/tag/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/","/tag/vuepress/","/tag/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","/tag/%E4%BD%99%E6%95%B0%E8%AE%A1%E7%AE%97/","/tag/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/","/tag/c/","/tag/someip/","/tag/service-discovery/","/tag/ethernet/","/tag/github/","/tag/c__/","/tag/%E6%8A%A5%E9%94%99/","/tag/%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5/","/tag/c%E8%AF%AD%E8%A8%80/","/tag/extern/","/tag/gcc/","/tag/%E7%BC%96%E8%AF%91%E4%BC%98%E5%8C%96/","/tag/%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97/","/tag/siezof/","/tag/%E6%A0%88%E5%B8%A7/","/tag/%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/","/tag/%E6%B1%87%E7%BC%96/","/tag/%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/","/tag/%E8%B0%83%E7%94%A8%E6%A0%88/","/tag/python/","/tag/pipreqs/","/tag/venv/","/tag/tool/","/tag/developer/","/article/","/star/","/timeline/"],Fe="SLIMSEARCH_QUERY_HISTORY",d=$(Fe,[]),pe=()=>{const{queryHistoryCount:A}=D;return{enabled:A>0,queryHistories:d,addQueryHistory:o=>{d.value=Array.from(new Set([o,...d.value.slice(0,A-1)]))},removeQueryHistory:o=>{d.value=[...d.value.slice(0,o),...d.value.slice(o+1)]}}},R=A=>ye[A.id]+("anchor"in A?`#${A.anchor}`:""),De="SLIMSEARCH_RESULT_HISTORY",{resultHistoryCount:M}=D,m=$(De,[]),fe=()=>({enabled:M>0,resultHistories:m,addResultHistory:l=>{{const o={link:R(l),display:l.display};"header"in l&&(o.header=l.header),m.value=[o,...m.value.slice(0,M-1)]}},removeResultHistory:l=>{m.value=[...m.value.slice(0,l),...m.value.slice(l+1)]}}),_e=A=>{const{page:l,routeLocale:o}=Be(),f=ce(),s=k(0),g=p(()=>s.value>0),B=ne([]);return Ce(()=>{const{search:_,terminate:C}=ve(),y=de(v=>{const{resultsFilter:H=t=>t,querySplitter:h,suggestionsFilter:q,...r}=f.value;v?(s.value+=1,_(v,o.value,r).then(t=>H(t,v,o.value,l.value)).then(t=>{s.value-=1,B.value=t}).catch(t=>{console.warn(t),s.value-=1,s.value||(B.value=[])})):B.value=[]},D.searchDelay-D.suggestDelay,{maxWait:5e3});he([A,o],([v])=>y(v.join(" "))),me(()=>{C()})}),{isSearching:g,results:B}};var be=K({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(A,{emit:l}){const o=W(),f=X(),s=Z(ee),{addQueryHistory:g,queryHistories:B,removeQueryHistory:_}=pe(),{resultHistories:C,addResultHistory:y,removeResultHistory:v}=fe(),H=Ee(A,"queries"),{results:h,isSearching:q}=_e(H),r=ae({isQuery:!0,index:0}),t=k(0),c=k(0),P=p(()=>B.value.length>0||C.value.length>0),b=p(()=>h.value.length>0),x=p(()=>h.value[t.value]||null),T=()=>{const{isQuery:E,index:a}=r;a===0?(r.isQuery=!E,r.index=E?C.value.length-1:B.value.length-1):r.index=a-1},O=()=>{const{isQuery:E,index:a}=r;a===(E?B.value.length-1:C.value.length-1)?(r.isQuery=!E,r.index=0):r.index=a+1},V=()=>{t.value=t.value>0?t.value-1:h.value.length-1,c.value=x.value.contents.length-1},U=()=>{t.value=t.value<h.value.length-1?t.value+1:0,c.value=0},j=()=>{c.value<x.value.contents.length-1?c.value+=1:U()},z=()=>{c.value>0?c.value-=1:V()},S=E=>E.map(a=>ge(a)?a:e(a[0],a[1])),Y=E=>{if(E.type==="customField"){const a=ie[E.index]||"$content",[n,i=""]=ue(a)?a[f.value].split("$content"):a.split("$content");return E.display.map(u=>e("div",S([n,...u,i])))}return E.display.map(a=>e("div",S(a)))},F=()=>{t.value=0,c.value=0,l("updateQuery",""),l("close")},N=()=>e("div",{class:"slimsearch-records"},e("div",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},s.value.queryHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},B.value.map((E,a)=>{const n=r.isQuery&&r.index===a;return e("li",{class:["slimsearch-record-matches",{active:n}],role:"option","aria-selected":n,onClick:()=>{l("updateQuery",E)}},e("div",[e(L,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},E),e("button",{type:"button",class:"slimsearch-remove-icon",title:s.value.remove,"aria-label":s.value.remove,innerHTML:I,onClick:i=>{i.preventDefault(),i.stopPropagation(),_(a)}})]))}))])),G=()=>e("ul",{class:"slimsearch-records"},e("li",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},s.value.resultHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},C.value.map((E,a)=>{const n=!r.isQuery&&r.index===a;return e("li",{class:["slimsearch-record-matches",{active:n}],role:"option","aria-selected":n},e(w,{to:E.link,onClick:()=>{F()}},()=>[e(L,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[E.header?e("div",{class:"slimsearch-record-content-header"},E.header):null,e("div",E.display.map(i=>S(i)).flat())]),e("button",{type:"button",class:"slimsearch-remove-icon",title:s.value.remove,"aria-label":s.value.remove,innerHTML:I,onClick:i=>{i.preventDefault(),i.stopPropagation(),v(a)}})]))}))]));return te("keydown",E=>{if(A.isFocusing){if(b.value){if(E.key==="ArrowUp")z();else if(E.key==="ArrowDown")j();else if(E.key==="Enter"){const a=x.value.contents[c.value];g(A.queries.join(" ")),y(a),o.push(R(a)),F()}}else if(E.key==="ArrowUp")T();else if(E.key==="ArrowDown")O();else if(E.key==="Enter"){const{index:a}=r;r.isQuery?(E.preventDefault(),l("updateQuery",B.value[a])):(o.push(C.value[a].link),F())}}}),Ae([t,c],()=>{var E;(E=document.querySelector(".slimsearch-record.active .slimsearch-record-matches.active"))==null||E.scrollIntoView(!1)},{flush:"post"}),()=>e("div",{id:"slimsearch-results",class:["slimsearch-result-wrapper",{empty:A.queries.length?!b.value:!P.value}]},A.queries.length?q.value?e(se,{hint:s.value.searching}):b.value?e("div",{class:"slimsearch-records",role:"listbox","aria-labeledby":"slimsearch-label"},h.value.map(({title:E,contents:a},n)=>{const i=t.value===n;return e("div",{class:["slimsearch-record",{active:i}],role:"group","aria-selected":i},[e("div",{class:"slimsearch-record-title"},E||s.value.defaultTitle),e("ul",{class:"slimsearch-record-contents"},a.map((u,J)=>{const Q=i&&c.value===J;return e("li",{class:["slimsearch-record-matches",{active:Q}],role:"option","aria-selected":Q},e(w,{to:R(u),onClick:()=>{g(A.queries.join(" ")),y(u),F()}},()=>[u.type==="text"?null:e(u.type==="title"?re:u.type==="heading"?le:oe,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[u.type==="text"&&u.header?e("div",{class:"slimsearch-record-content-header"},u.header):null,e("div",Y(u))])]))}))])})):s.value.emptyResult:P.value?[N(),G()]:s.value.emptyHistory)}});export{be as default};
