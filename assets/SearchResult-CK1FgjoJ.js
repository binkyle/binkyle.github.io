import{g as K,u as W,h as X,i as Z,j as ee,t as ae,k as Ee,l as R,m as F,n as e,p as te,q as se,s as le,R as L,v as re,x as Ae,y as ie,z as oe,A as ue,B as P,C as $,D as ce,E as ne,F as Be,G as ve,L as Ce,H as he,I as de,J as me,K as I,M as ye,N as _}from"./app-C0Vzvt65.js";const pe=["/","/%E5%85%B3%E4%BA%8E%E6%88%91/intro.html","/%E7%94%9F%E6%B4%BB%E9%9A%8F%E6%83%B3/%E6%8A%95%E8%B5%84%E7%90%86%E8%B4%A2/%E7%82%92%E8%82%A1%E7%9A%84%E6%99%BA%E6%85%A7.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E5%B7%A5%E5%85%B7/vuePressgit.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Autosar/autosar_can_protocol.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Autosar/autosar_solution_summary.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%AE%97%E6%B3%95/%E4%B8%80%E4%BA%9B%E7%AE%97%E6%B3%95%E6%9D%82%E8%AE%B0.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E6%B7%B1%E5%85%A5%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F_%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E5%B7%A5%E5%85%B7/github/githubNote.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C_C__/C_C__%E8%AF%AD%E6%B3%95%E6%8A%A5%E9%94%99%E9%9B%86%E5%90%88%E6%B1%87%E6%80%BB.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C_C__/c__%E4%B8%A4%E7%A7%8D%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5%E5%8C%BA%E5%88%AB.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C_C__/extern_in_c_page1.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C_C__/sizeof_in_c.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/generate_requirments.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/python_venv.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Autosar/DaVinci%20Configurator%20Classic/Auto-Connect-Port-Prototypes/Auto-Connect_Port_Prototypes.html","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Autosar/DaVinci%20Configurator%20Classic/userManual/userManual.html","/404.html","/%E5%85%B3%E4%BA%8E%E6%88%91/","/%E7%94%9F%E6%B4%BB%E9%9A%8F%E6%83%B3/%E6%8A%95%E8%B5%84%E7%90%86%E8%B4%A2/","/%E7%94%9F%E6%B4%BB%E9%9A%8F%E6%83%B3/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E5%B7%A5%E5%85%B7/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Autosar/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%AE%97%E6%B3%95/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E5%B7%A5%E5%85%B7/github/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C_C__/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Autosar/DaVinci%20Configurator%20Classic/Auto-Connect-Port-Prototypes/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Autosar/DaVinci%20Configurator%20Classic/","/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/Autosar/DaVinci%20Configurator%20Classic/userManual/","/category/","/category/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","/category/autosar/","/category/%E7%AE%97%E6%B3%95/","/category/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/","/tag/","/tag/%E7%82%92%E8%82%A1%E7%9A%84%E6%99%BA%E6%85%A7/","/tag/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/","/tag/vuepress/","/tag/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","/tag/can/","/tag/%E5%8D%8F%E8%AE%AE/","/tag/%E6%A6%82%E8%BF%B0/","/tag/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/","/tag/%E4%BD%99%E6%95%B0%E8%AE%A1%E7%AE%97/","/tag/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/","/tag/c/","/tag/github/","/tag/c__/","/tag/%E6%8A%A5%E9%94%99/","/tag/%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5/","/tag/c%E8%AF%AD%E8%A8%80/","/tag/extern/","/tag/siezof/","/tag/python/","/tag/pipreqs/","/tag/venv/","/tag/tool/","/tag/developer/","/article/","/star/","/timeline/"],ge="SLIMSEARCH_QUERY_HISTORY",d=I(ge,[]),Fe=()=>{const{queryHistoryCount:s}=_;return{enabled:s>0,queryHistories:d,addQueryHistory:i=>{d.value=Array.from(new Set([i,...d.value.slice(0,s-1)]))},removeQueryHistory:i=>{d.value=[...d.value.slice(0,i),...d.value.slice(i+1)]}}},q=s=>pe[s.id]+("anchor"in s?`#${s.anchor}`:""),_e="SLIMSEARCH_RESULT_HISTORY",{resultHistoryCount:M}=_,m=I(_e,[]),De=()=>({enabled:M>0,resultHistories:m,addResultHistory:A=>{{const i={link:q(A),display:A.display};"header"in A&&(i.header=A.header),m.value=[i,...m.value.slice(0,M-1)]}},removeResultHistory:A=>{m.value=[...m.value.slice(0,A),...m.value.slice(A+1)]}}),fe=s=>{const{page:A,routeLocale:i}=ce(),D=ne(),l=R(0),y=F(()=>l.value>0),c=Be([]);return ve(()=>{const{search:f,terminate:v}=Ce(),p=de(C=>{const{resultsFilter:H=t=>t,querySplitter:h,suggestionsFilter:Q,...r}=D.value;C?(l.value+=1,f(C,i.value,r).then(t=>H(t,C,i.value,A.value)).then(t=>{l.value-=1,c.value=t}).catch(t=>{console.warn(t),l.value-=1,l.value||(c.value=[])})):c.value=[]},_.searchDelay-_.suggestDelay,{maxWait:5e3});he([s,i],([C])=>p(C.join(" "))),me(()=>{v()})}),{isSearching:y,results:c}};var be=K({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(s,{emit:A}){const i=W(),D=X(),l=Z(ee),{addQueryHistory:y,queryHistories:c,removeQueryHistory:f}=Fe(),{resultHistories:v,addResultHistory:p,removeResultHistory:C}=De(),H=ae(s,"queries"),{results:h,isSearching:Q}=fe(H),r=Ee({isQuery:!0,index:0}),t=R(0),n=R(0),w=F(()=>c.value.length>0||v.value.length>0),b=F(()=>h.value.length>0),x=F(()=>h.value[t.value]||null),T=()=>{const{isQuery:a,index:E}=r;E===0?(r.isQuery=!a,r.index=a?v.value.length-1:c.value.length-1):r.index=E-1},V=()=>{const{isQuery:a,index:E}=r;E===(a?c.value.length-1:v.value.length-1)?(r.isQuery=!a,r.index=0):r.index=E+1},j=()=>{t.value=t.value>0?t.value-1:h.value.length-1,n.value=x.value.contents.length-1},U=()=>{t.value=t.value<h.value.length-1?t.value+1:0,n.value=0},z=()=>{n.value<x.value.contents.length-1?n.value+=1:U()},O=()=>{n.value>0?n.value-=1:j()},k=a=>a.map(E=>ye(E)?E:e(E[0],E[1])),Y=a=>{if(a.type==="customField"){const E=oe[a.index]||"$content",[B,o=""]=ue(E)?E[D.value].split("$content"):E.split("$content");return a.display.map(u=>e("div",k([B,...u,o])))}return a.display.map(E=>e("div",k(E)))},g=()=>{t.value=0,n.value=0,A("updateQuery",""),A("close")},N=()=>e("div",{class:"slimsearch-records"},e("div",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},l.value.queryHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},c.value.map((a,E)=>{const B=r.isQuery&&r.index===E;return e("li",{class:["slimsearch-record-matches",{active:B}],role:"option","aria-selected":B,onClick:()=>{A("updateQuery",a)}},e("div",[e(P,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},a),e("button",{type:"button",class:"slimsearch-remove-icon",title:l.value.remove,"aria-label":l.value.remove,innerHTML:$,onClick:o=>{o.preventDefault(),o.stopPropagation(),f(E)}})]))}))])),G=()=>e("ul",{class:"slimsearch-records"},e("li",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},l.value.resultHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},v.value.map((a,E)=>{const B=!r.isQuery&&r.index===E;return e("li",{class:["slimsearch-record-matches",{active:B}],role:"option","aria-selected":B},e(L,{to:a.link,onClick:()=>{g()}},()=>[e(P,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[a.header?e("div",{class:"slimsearch-record-content-header"},a.header):null,e("div",a.display.map(o=>k(o)).flat())]),e("button",{type:"button",class:"slimsearch-remove-icon",title:l.value.remove,"aria-label":l.value.remove,innerHTML:$,onClick:o=>{o.preventDefault(),o.stopPropagation(),C(E)}})]))}))]));return te("keydown",a=>{if(s.isFocusing){if(b.value){if(a.key==="ArrowUp")O();else if(a.key==="ArrowDown")z();else if(a.key==="Enter"){const E=x.value.contents[n.value];y(s.queries.join(" ")),p(E),i.push(q(E)),g()}}else if(a.key==="ArrowUp")T();else if(a.key==="ArrowDown")V();else if(a.key==="Enter"){const{index:E}=r;r.isQuery?(a.preventDefault(),A("updateQuery",c.value[E])):(i.push(v.value[E].link),g())}}}),se([t,n],()=>{var a;(a=document.querySelector(".slimsearch-record.active .slimsearch-record-matches.active"))==null||a.scrollIntoView(!1)},{flush:"post"}),()=>e("div",{id:"slimsearch-results",class:["slimsearch-result-wrapper",{empty:s.queries.length?!b.value:!w.value}]},s.queries.length?Q.value?e(le,{hint:l.value.searching}):b.value?e("div",{class:"slimsearch-records",role:"listbox","aria-labeledby":"slimsearch-label"},h.value.map(({title:a,contents:E},B)=>{const o=t.value===B;return e("div",{class:["slimsearch-record",{active:o}],role:"group","aria-selected":o},[e("div",{class:"slimsearch-record-title"},a||l.value.defaultTitle),e("ul",{class:"slimsearch-record-contents"},E.map((u,J)=>{const S=o&&n.value===J;return e("li",{class:["slimsearch-record-matches",{active:S}],role:"option","aria-selected":S},e(L,{to:q(u),onClick:()=>{y(s.queries.join(" ")),p(u),g()}},()=>[u.type==="text"?null:e(u.type==="title"?re:u.type==="heading"?Ae:ie,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[u.type==="text"&&u.header?e("div",{class:"slimsearch-record-content-header"},u.header):null,e("div",Y(u))])]))}))])})):l.value.emptyResult:w.value?[N(),G()]:l.value.emptyHistory)}});export{be as default};
